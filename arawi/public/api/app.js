const express=require("express"),app=express(),bodyParser=require("body-parser"),db=require("./db"),path=require("path"),port=9e3,HTML_FILE=path.join(__dirname,"../index.html");app.use(bodyParser.urlencoded({extended:!0})),app.use(bodyParser.json()),app.use(express.static(path.join(__dirname,"../../public"))),app.post("/newreservation",(e,r)=>{db.newReservation({checkin:e.body.checkin,checkout:e.body.checkout,adults:e.body.adults,children:e.body.children});console.log(e.body),r.sendFile(HTML_FILE)}),app.get("/reserve/:id",(e,r)=>{r.send(db.getReserve(e.params.id))}),app.get("/reservations",(e,r)=>{r.send(db.getReservations())}),app.delete("/deletereservation/:id",(e,r)=>{e=db.deleteReserve(e.params.id);r.send(e)}),app.listen(port,()=>{console.log("Server Conneceted")});